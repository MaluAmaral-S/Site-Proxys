<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Registro - ProxyXpress</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <meta name="color-scheme" content="dark" />
  
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet' />
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icon-css@7.0.0/css/flag-icons.min.css"/>
  
  <link rel="stylesheet" href="style.css" />

  <style>
    /* DDI: estilo do select e altura máxima do menu */
    .ddi-select {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      background-image: url('data:image/svg+xml;utf8,<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="%2394A3B8"><path d="M4 6l4 4 4-4"/></svg>');
      background-repeat: no-repeat;
      background-position: right 0.75rem center;
      background-size: 0.75rem;
      padding-right: 2rem;
      cursor: pointer;
    }
    .ddi-select.ddi-expanded {
      max-height: 60vh; /* altura máxima do menu ao abrir */
      overflow-y: auto;
    }
    .ddi-select.ddi-expanded::-webkit-scrollbar { width: 8px; }
    .ddi-select.ddi-expanded::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
    }
    .ddi-select.ddi-expanded::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.2);
      border-radius: 8px;
    }
    .ddi-select.ddi-expanded::-webkit-scrollbar-thumb:hover {
      background: rgba(255, 255, 255, 0.3);
    }
  /* Floating DDI dropdown container (não afeta layout) */
  .ddi-float {
    position: fixed;
    z-index: 1000;
    max-height: 60vh;
    overflow-y: auto;
    width: var(--float-width, auto);
    left: var(--float-left, 0px);
    top: var(--float-top, 0px);
    background-color: rgba(10, 16, 36, 0.98); /* fundo consistente com o site */
    border: 1px solid rgba(255, 255, 255, 0.12);
    border-radius: 0.5rem;
    box-shadow: 0 12px 30px rgba(0,0,0,0.5), 0 0 0 1px rgba(34, 211, 238, 0.08);
  }
  .ddi-float select {
    display: block;
    width: 100%;
    background: transparent;
    border: 0;
    outline: 0;
    padding: 0.35rem 0.5rem;
    color: #F1F5F9;
  }
  /* Cores das opções para combinar com o tema */
  .ddi-float option {
    background-color: rgba(10, 16, 36, 0.98);
    color: #F1F5F9;
  }
  .ddi-float option:checked,
  .ddi-float option:focus,
  .ddi-float option:hover {
    background-color: rgba(34, 211, 238, 0.18);
    color: #22d3ee;
  }
  .ddi-float::-webkit-scrollbar { width: 8px; }
  .ddi-float::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.06);
    border-radius: 8px;
  }
  .ddi-float::-webkit-scrollbar-thumb {
    background: rgba(34, 211, 238, 0.35);
    border-radius: 8px;
  }
  .ddi-float::-webkit-scrollbar-thumb:hover {
    background: rgba(34, 211, 238, 0.5);
  }
  </style>
</head>
<body class="min-h-screen text-slate-100 antialiased">
  
  <div class="background-gradient"></div>

  <main class="min-h-screen flex flex-col items-center justify-center p-4">

    <div class="login-container-split">
      
      <div class="login-left-panel">
        <a href="index.html" class="inline-flex flex-col items-center gap-4">
          <img src="assets/logo.png" alt="ProxyXpress Logo" style="width: 5rem; height: 5rem;">
          <div>
            <span style="font-weight: 700; font-size: 2.25rem; letter-spacing: -0.5px;">Proxy</span><span style="font-weight: 300; font-size: 2.25rem; letter-spacing: -0.5px;">Xpress</span>
          </div>
        </a>
      </div>

      <div class="login-right-panel">
        
        <div class="text-left w-full">
          <h2 class="text-3xl font-bold">Cadastre-se</h2>
          <p class="text-slate-400 font-light mt-1 mb-6">Vamos configurar tudo para você acessar sua conta.</p>
        </div>

        <form action="#" method="POST" class="w-full">
          <div class="form-grid">
            <div>
              <label for="first-name" class="form-label">Nome</label>
              <input type="text" id="first-name" class="form-input">
            </div>
            <div>
              <label for="last-name" class="form-label">Sobrenome</label>
              <input type="text" id="last-name" class="form-input">
            </div>
            <div class="col-span-2">
              <label for="email" class="form-label">Email</label>
              <input type="email" id="email" class="form-input">
            </div>
            <div class="col-span-2">
              <label for="phone" class="form-label">Telefone</label>
              <div class="flex gap-2">
                <span id="ddi-flag" class="fi fis fi-br"></span>
                <select id="phone-ddi" class="form-input ddi-select" style="max-width: 110px;">
                  <option value="+55">+55 (BR)</option>
                  <option value="+1">+1 (US)</option>
                  <option value="+1">+1 (CA)</option>
                  <option value="+52">+52 (MX)</option>
                  <option value="+54">+54 (AR)</option>
                  <option value="+57">+57 (CO)</option>
                  <option value="+56">+56 (CL)</option>
                  <option value="+51">+51 (PE)</option>
                  <option value="+593">+593 (EC)</option>
                  <option value="+58">+58 (VE)</option>
                  <option value="+502">+502 (GT)</option>
                  <option value="+503">+503 (SV)</option>
                  <option value="+504">+504 (HN)</option>
                  <option value="+505">+505 (NI)</option>
                  <option value="+506">+506 (CR)</option>
                  <option value="+507">+507 (PA)</option>
                  <option value="+595">+595 (PY)</option>
                  <option value="+598">+598 (UY)</option>
                  <option value="+591">+591 (BO)</option>
                  <option value="+592">+592 (GY)</option>
                  <option value="+597">+597 (SR)</option>
                  <option value="+53">+53 (CU)</option>
                  
                  <option value="+44">+44 (UK)</option>
                  <option value="+353">+353 (IE)</option>
                  <option value="+49">+49 (DE)</option>
                  <option value="+33">+33 (FR)</option>
                  <option value="+39">+39 (IT)</option>
                  <option value="+34">+34 (ES)</option>
                  <option value="+351">+351 (PT)</option>
                  <option value="+31">+31 (NL)</option>
                  <option value="+32">+32 (BE)</option>
                  <option value="+41">+41 (CH)</option>
                  <option value="+43">+43 (AT)</option>
                  <option value="+420">+420 (CZ)</option>
                  <option value="+421">+421 (SK)</option>
                  <option value="+36">+36 (HU)</option>
                  <option value="+48">+48 (PL)</option>
                  <option value="+46">+46 (SE)</option>
                  <option value="+47">+47 (NO)</option>
                  <option value="+45">+45 (DK)</option>
                  <option value="+358">+358 (FI)</option>
                  <option value="+380">+380 (UA)</option>
                  <option value="+375">+375 (BY)</option>
                  <option value="+7">+7 (RU)</option>
                  <option value="+30">+30 (GR)</option>
                  <option value="+357">+357 (CY)</option>
                  <option value="+359">+359 (BG)</option>
                  <option value="+40">+40 (RO)</option>
                  <option value="+386">+386 (SI)</option>
                  <option value="+385">+385 (HR)</option>
                  <option value="+381">+381 (RS)</option>
                  <option value="+382">+382 (ME)</option>
                  <option value="+389">+389 (MK)</option>
                  <option value="+372">+372 (EE)</option>
                  <option value="+371">+371 (LV)</option>
                  <option value="+370">+370 (LT)</option>
                  
                  <option value="+90">+90 (TR)</option>
                  <option value="+972">+972 (IL)</option>
                  <option value="+971">+971 (AE)</option>
                  <option value="+966">+966 (SA)</option>
                  <option value="+974">+974 (QA)</option>
                  <option value="+973">+973 (BH)</option>
                  <option value="+968">+968 (OM)</option>
                  <option value="+965">+965 (KW)</option>
                  <option value="+964">+964 (IQ)</option>
                  <option value="+962">+962 (JO)</option>
                  <option value="+961">+961 (LB)</option>
                  <option value="+98">+98 (IR)</option>
                  
                  <option value="+81">+81 (JP)</option>
                  <option value="+82">+82 (KR)</option>
                  <option value="+86">+86 (CN)</option>
                  <option value="+852">+852 (HK)</option>
                  <option value="+853">+853 (MO)</option>
                  <option value="+886">+886 (TW)</option>
                  <option value="+91">+91 (IN)</option>
                  <option value="+94">+94 (LK)</option>
                  <option value="+92">+92 (PK)</option>
                  <option value="+880">+880 (BD)</option>
                  <option value="+977">+977 (NP)</option>
                  <option value="+975">+975 (BT)</option>
                  <option value="+84">+84 (VN)</option>
                  <option value="+66">+66 (TH)</option>
                  <option value="+63">+63 (PH)</option>
                  <option value="+62">+62 (ID)</option>
                  <option value="+65">+65 (SG)</option>
                  <option value="+60">+60 (MY)</option>
                  <option value="+95">+95 (MM)</option>
                  <option value="+855">+855 (KH)</option>
                  <option value="+856">+856 (LA)</option>
                  <option value="+673">+673 (BN)</option>
                  <option value="+970">+970 (PS)</option>
                  
                  <option value="+27">+27 (ZA)</option>
                  <option value="+20">+20 (EG)</option>
                  <option value="+212">+212 (MA)</option>
                  <option value="+216">+216 (TN)</option>
                  <option value="+213">+213 (DZ)</option>
                  <option value="+221">+221 (SN)</option>
                  <option value="+234">+234 (NG)</option>
                  <option value="+233">+233 (GH)</option>
                  <option value="+225">+225 (CI)</option>
                  <option value="+254">+254 (KE)</option>
                  <option value="+255">+255 (TZ)</option>
                  <option value="+256">+256 (UG)</option>
                  <option value="+251">+251 (ET)</option>
                  <option value="+249">+249 (SD)</option>
                  <option value="+218">+218 (LY)</option>
                  <option value="+211">+211 (SS)</option>
                  <option value="+237">+237 (CM)</option>
                  <option value="+250">+250 (RW)</option>
                  <option value="+265">+265 (MW)</option>
                  <option value="+260">+260 (ZM)</option>
                  <option value="+263">+263 (ZW)</option>
                  <option value="+267">+267 (BW)</option>
                  <option value="+264">+264 (NA)</option>
                  <option value="+220">+220 (GM)</option>
                  <option value="+223">+223 (ML)</option>
                  <option value="+226">+226 (BF)</option>
                  <option value="+228">+228 (TG)</option>
                  <option value="+229">+229 (BJ)</option>
                  <option value="+235">+235 (TD)</option>
                  <option value="+236">+236 (CF)</option>
                  
                  <option value="+61">+61 (AU)</option>
                  <option value="+64">+64 (NZ)</option>
                  <option value="+679">+679 (FJ)</option>
                  <option value="+675">+675 (PG)</option>
                  
                  <option value="+7">+7 (KZ)</option>
                  <option value="+998">+998 (UZ)</option>
                  <option value="+996">+996 (KG)</option>
                  <option value="+992">+992 (TJ)</option>
                  <option value="+993">+993 (TM)</option>
                  <option value="+994">+994 (AZ)</option>
                  <option value="+374">+374 (AM)</option>
                  <option value="+995">+995 (GE)</option>
                </select>
                <input type="tel" id="phone" class="form-input" placeholder="(DDD) 99999-9999">
              </div>
            </div>
          </div>

          <div class="mt-4">
            <label for="password" class="form-label">Senha</label>
            <div class="password-wrapper">
              <input type="password" id="password" class="form-input">
              <i class="bx bx-hide password-toggle-icon"></i>
            </div>
          </div>

          <div class="mt-4">
            <label for="confirm-password" class="form-label">Confirmar Senha</label>
            <div class="password-wrapper">
              <input type="password" id="confirm-password" class="form-input">
              <i class="bx bx-hide password-toggle-icon"></i>
            </div>
          </div>

          <div class="flex items-center mt-4">
            <input id="terms" name="terms" type="checkbox" class="h-4 w-4 rounded checkbox-custom">
            <label for="terms" class="ml-2 block text-sm text-slate-400">
              Eu concordo com os <a href="#" class="font-medium text-emerald-300 hover:text-emerald-400">Termos</a> e <a href="#" class="font-medium text-emerald-300 hover:text-emerald-400">Políticas de Privacidade</a>.
            </label>
          </div>

          <button type="submit" class="w-full btn-primary py-2.5 mt-6">Criar Conta</button>
        </form>

        <p class="text-center text-sm text-slate-400 mt-6">
          Já tem uma conta? <a href="login.html" class="font-semibold text-emerald-300 hover:text-emerald-400">Faça login!</a>
        </p>

      </div>

    </div>
  </main>

<script>
  // Script para visualização de senha
  document.querySelectorAll('.password-toggle-icon').forEach(icon => {
    icon.addEventListener('click', () => {
      const passwordInput = icon.previousElementSibling;
      if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        icon.classList.remove('bx-hide');
        icon.classList.add('bx-show');
      } else {
        passwordInput.type = 'password';
        icon.classList.remove('bx-show');
        icon.classList.add('bx-hide');
      }
    });
  });

  // Atualiza bandeira ao lado do DDI
  (function() {
    const select = document.getElementById('phone-ddi');
    const flagEl = document.getElementById('ddi-flag');
    if (!select || !flagEl) return;

    const normalizeISO = (code) => {
      code = (code || '').toLowerCase();
      if (code === 'uk') return 'gb'; // Flag Icons usa gb para Reino Unido
      return code;
    };

    const updateFlag = () => {
      const opt = select.options[select.selectedIndex];
      if (!opt) return;
      const match = opt.textContent.match(/\(([A-Z]{2})\)/);
      if (match) {
        const iso = normalizeISO(match[1]);
        flagEl.className = `fi fis fi-${iso}`;
      }
    };

    select.addEventListener('change', updateFlag);
    // Inicializa na carga da página
    updateFlag();
  })();

  // DDI: dropdown flutuante abaixo do seletor (não deforma layout)
  (function() {
    const main = document.getElementById('phone-ddi');
    if (!main) return;

    const isPointerFine = window.matchMedia('(pointer: fine)');

    let container = null;
    let floatSel = null;

    const destroy = () => {
      if (container && container.parentNode) {
        container.parentNode.removeChild(container);
      }
      container = null;
      floatSel = null;
      window.removeEventListener('scroll', onReposition, true);
      window.removeEventListener('resize', onReposition);
      document.removeEventListener('mousedown', onDocClick, true);
      document.removeEventListener('keydown', onKey);
    };

    const onDocClick = (e) => {
      if (!container) return;
      if (container.contains(e.target) || main.contains(e.target)) return;
      destroy();
    };
    const onKey = (e) => {
      if (e.key === 'Escape') destroy();
    };
    const onReposition = () => {
      if (!container) return;
      const rect = main.getBoundingClientRect();
      container.style.setProperty('--float-left', rect.left + 'px');
      container.style.setProperty('--float-top', rect.bottom + 'px');
      container.style.setProperty('--float-width', rect.width + 'px');
    };

    const open = () => {
      if (!isPointerFine.matches) return; // manter nativo em touch
      destroy();

      const rect = main.getBoundingClientRect();

      container = document.createElement('div');
      container.className = 'ddi-float';
      container.style.setProperty('--float-left', rect.left + 'px');
      container.style.setProperty('--float-top', rect.bottom + 'px');
      container.style.setProperty('--float-width', rect.width + 'px');

      floatSel = document.createElement('select');
      floatSel.size = Math.max(6, Math.floor((window.innerHeight * 0.6) / 34));
      floatSel.className = 'form-input ddi-select';
      floatSel.style.maxWidth = 'none';
      floatSel.innerHTML = main.innerHTML;
      floatSel.selectedIndex = main.selectedIndex;

      container.appendChild(floatSel);
      document.body.appendChild(container);

      window.addEventListener('scroll', onReposition, true);
      window.addEventListener('resize', onReposition);
      document.addEventListener('mousedown', onDocClick, true);
      document.addEventListener('keydown', onKey);

      floatSel.addEventListener('change', () => {
        main.selectedIndex = floatSel.selectedIndex;
        main.dispatchEvent(new Event('change'));
        destroy();
      });

      // foco inicial
      setTimeout(() => floatSel && floatSel.focus(), 0);
    };

    // CORREÇÃO: Apenas previne o comportamento padrão e abre o menu customizado
    // se o dispositivo for um mouse (pointer: fine). Em dispositivos de toque,
    // o comportamento padrão (abrir o menu nativo) é permitido.
    main.addEventListener('mousedown', (e) => {
      if (isPointerFine.matches) {
        e.preventDefault();
        open();
      }
    });
    main.addEventListener('focus', (e) => {
      if (isPointerFine.matches) {
        e.preventDefault();
        open();
      }
    });
  })();
</script>

</body>
</html>